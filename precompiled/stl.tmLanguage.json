{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "stl",
  "scopeName": "source.stl",
  "patterns": [
    {
      "include": "#solid"
    },
    {
      "include": "#endsolid"
    },
    {
      "include": "#facetNormal"
    },
    {
      "include": "#endfacet"
    },
    {
      "include": "#outerLoop"
    },
    {
      "include": "#endloop"
    },
    {
      "include": "#vertex"
    },
    {
      "include": "#numbers"
    }
  ],
  "repository": {
    "solid": {
      "comment": "solid <name>",
      "match": "^\\s*(solid)\\b\\s*(.*?)\\s*$",
      "captures": {
        "1": {
          "name": "keyword.control.solid.stl"
        },
        "2": {
          "name": "entity.name.type.solid.stl"
        }
      }
    },
    "endsolid": {
      "comment": "endsolid [name]",
      "match": "^\\s*(endsolid)\\b\\s*(.*?)\\s*$",
      "captures": {
        "1": {
          "name": "keyword.control.endsolid.stl"
        },
        "2": {
          "name": "entity.name.type.solid.stl"
        }
      }
    },
    "facetNormal": {
      "comment": "facet normal <nx> <ny> <nz>",
      "match": "^\\s*(facet)\\s+(normal)\\s+([\\-+]?[0-9]*\\.?[0-9]+(?:[eE][\\-+]?[0-9]+)?)\\s+([\\-+]?[0-9]*\\.?[0-9]+(?:[eE][\\-+]?[0-9]+)?)\\s+([\\-+]?[0-9]*\\.?[0-9]+(?:[eE][\\-+]?[0-9]+)?)",
      "captures": {
        "1": {
          "name": "keyword.control.facet.stl"
        },
        "2": {
          "name": "keyword.other.normal.stl"
        },
        "3": {
          "name": "constant.numeric.float.stl"
        },
        "4": {
          "name": "constant.numeric.float.stl"
        },
        "5": {
          "name": "constant.numeric.float.stl"
        }
      }
    },
    "endfacet": {
      "name": "keyword.control.endfacet.stl",
      "match": "\\b(endfacet)\\b"
    },
    "outerLoop": {
      "match": "^\\s*(outer)\\s+(loop)\\s*$",
      "captures": {
        "1": {
          "name": "keyword.control.outer.stl"
        },
        "2": {
          "name": "keyword.control.loop.stl"
        }
      }
    },
    "endloop": {
      "name": "keyword.control.endloop.stl",
      "match": "\\b(endloop)\\b"
    },
    "vertex": {
      "comment": "vertex <x> <y> <z>",
      "match": "^\\s*(vertex)\\s+([\\-+]?[0-9]*\\.?[0-9]+(?:[eE][\\-+]?[0-9]+)?)\\s+([\\-+]?[0-9]*\\.?[0-9]+(?:[eE][\\-+]?[0-9]+)?)\\s+([\\-+]?[0-9]*\\.?[0-9]+(?:[eE][\\-+]?[0-9]+)?)",
      "captures": {
        "1": {
          "name": "storage.type.vertex.stl"
        },
        "2": {
          "name": "constant.numeric.float.stl"
        },
        "3": {
          "name": "constant.numeric.float.stl"
        },
        "4": {
          "name": "constant.numeric.float.stl"
        }
      }
    },
    "numbers": {
      "name": "constant.numeric.float.stl",
      "match": "[\\-+]?[0-9]*\\.?[0-9]+(?:[eE][\\-+]?[0-9]+)?\\b"
    }
  }
}
